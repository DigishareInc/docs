---
title: Authentification
description: Authentifiez vos requêtes en toute sécurité à l'aide de jetons d'accès personnels ou OAuth 2.0.
icon: i-lucide-shield-check
---

L'accès sécurisé à l'API Digishare est obligatoire. Nous prenons en charge deux méthodes principales d'authentification en fonction de vos besoins d'intégration.

::note
Toutes les requêtes API doivent être effectuées via **HTTPS**. Les appels effectués en HTTP simple échoueront.
::

## 1. Jeton d'accès personnel (Personal Access Token)

Le **Jeton d'accès personnel (Bearer Token)** est idéal pour les intégrations de serveur à serveur, les scripts ou lorsque vous créez une intégration pour votre propre organisation.

::steps

### Générer le jeton

Accédez à **Paramètres > Jetons d'accès personnels** dans votre tableau de bord Digishare et cliquez sur **Générer un nouveau jeton**.

### Copier le jeton

Copiez immédiatement le jeton. Pour des raisons de sécurité, il ne sera **plus** affiché.

### Authentifier

Incluez le jeton dans l'en-tête `Authorization` de vos requêtes HTTP.
::

::code-group

```bash [cURL]
curl -X GET https://api.digishare.ma/v1/campaigns \
  -H "Authorization: Bearer VOTRE_JETON_D_ACCES_PERSONNEL" \
  -H "Content-Type: application/json"
```

```js [Node.js]
const response = await fetch("https://api.digishare.ma/v1/campaigns", {
  headers: {
    Authorization: "Bearer VOTRE_JETON_D_ACCES_PERSONNEL",
    "Content-Type": "application/json",
  },
});
```

```python [Python]
import requests

headers = {
    'Authorization': 'Bearer VOTRE_JETON_D_ACCES_PERSONNEL',
    'Content-Type': 'application/json'
}

response = requests.get('https://api.digishare.ma/v1/campaigns', headers=headers)
```

::

## 2. Identifiants client OAuth 2.0

Utilisez le flux **Client Credentials Grant Flow** si vous créez une application ou un service tiers qui agit en son propre nom.

::steps

### Obtenir les identifiants

Obtenez votre `Client ID` et votre `Client Secret` depuis la page **Développeur > Applications**.

### Demander un jeton

Échangez vos identifiants contre un jeton d'accès via le point de terminaison `/oauth/token`.

### Utiliser le jeton

Utilisez l' `access_token` retourné dans l'en-tête `Authorization` pour les requêtes suivantes.
::

### Demande de jeton

::code-group

```bash [cURL]
curl -X POST https://api.digishare.ma/v1/oauth/token \
  -H "Content-Type: application/json" \
  -d '{
    "grant_type": "client_credentials",
    "client_id": "VOTRE_CLIENT_ID",
    "client_secret": "VOTRE_CLIENT_SECRET"
  }'
```

::

### Réponse du jeton

```json
{
  "token_type": "Bearer",
  "expires_in": 31536000,
  "access_token": "VOTRE_JETON_D_ACCES"
}
```

::warning
**Bonne pratique de sécurité :** N'exposez jamais votre `Client Secret` ou votre `Personal Access Token` dans du code côté client (navigateurs). Ceux-ci ne doivent être utilisés que dans des environnements serveurs sécurisés.
::
