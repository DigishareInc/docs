---
title: المصادقة
description: قم بمصادقة طلباتك بأمان باستخدام رموز الوصول الشخصية أو OAuth 2.0.
icon: i-lucide-shield-check
---

يعد الوصول الآمن إلى API Digishare إلزامياً. نحن ندعم طريقتين أساسيتين للمصادقة حسب احتياجات التكامل الخاصة بك.

::note
يجب تقديم جميع طلبات API عبر **HTTPS**. الطلبات المقدمة عبر HTTP العادي ستفشل.
::

## 1. رمز الوصول الشخصي (Personal Access Token)

يعد **رمز الوصول الشخصي (Bearer Token)** مثالياً للتكامل بين الخوادم، أو السكربتات، أو عندما تقوم ببناء تكامل لمنظمتك الخاصة.

::steps

### إنشاء الرمز

انتقل إلى **الإعدادات > رموز الوصول الشخصية** في لوحة تحكم Digishare وانقر فوق **إنشاء رمز جديد**.

### نسخ الرمز

قم بنسخ الرمز على الفور. لأسباب أمنية، **لن** يتم عرضه مرة أخرى.

### المصادقة

قم بتضمين الرمز في رأس `Authorization` لطلبات HTTP الخاصة بك.
::

::code-group

```bash [cURL]
curl -X GET https://api.digishare.ma/v1/campaigns \
  -H "Authorization: Bearer YOUR_PERSONAL_ACCESS_TOKEN" \
  -H "Content-Type: application/json"
```

```js [Node.js]
const response = await fetch("https://api.digishare.ma/v1/campaigns", {
  headers: {
    Authorization: "Bearer YOUR_PERSONAL_ACCESS_TOKEN",
    "Content-Type": "application/json",
  },
});
```

```python [Python]
import requests

headers = {
    'Authorization': 'Bearer YOUR_PERSONAL_ACCESS_TOKEN',
    'Content-Type': 'application/json'
}

response = requests.get('https://api.digishare.ma/v1/campaigns', headers=headers)
```

::

## 2. أوراق اعتماد العميل OAuth 2.0

استخدم **Client Credentials Grant Flow** إذا كنت تقوم ببناء تطبيق أو خدمة طرف ثالث تعمل بالنيابة عن نفسها.

::steps

### الحصول على أوراق الاعتماد

احصل على `Client ID` و `Client Secret` من صفحة **المطور > التطبيقات**.

### طلب الرمز

استبدل أوراق اعتمادك برمز وصول عبر نقطة النهاية `/oauth/token`.

### استخدام الرمز

استخدم `access_token` المرتجع في رأس `Authorization` للطلبات اللاحقة.
::

### طلب الرمز

::code-group

```bash [cURL]
curl -X POST https://api.digishare.ma/v1/oauth/token \
  -H "Content-Type: application/json" \
  -d '{
    "grant_type": "client_credentials",
    "client_id": "YOUR_CLIENT_ID",
    "client_secret": "YOUR_CLIENT_SECRET"
  }'
```

::

### استجابة الرمز

```json
{
  "token_type": "Bearer",
  "expires_in": 31536000,
  "access_token": "YOUR_ACCESS_TOKEN"
}
```

::warning
**أفضل ممارسات الأمان:** لا تقم أبداً بكشف `Client Secret` أو `Personal Access Token` في كود جانب العميل (المتصفحات). يجب استخدامها فقط في بيئات جانب الخادم الآمنة.
::
