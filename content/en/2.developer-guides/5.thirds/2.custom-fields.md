---
title: Custom Fields
description: Store and retrieve custom metadata on your Third entities.
icon: i-lucide-tags
---


Extend your contacts with custom data. Digishare offers two approaches depending on your needs.

---

## Choose Your Approach

::card-group
::card{title="Quick Fields" icon="i-lucide-zap"}
Store simple key-value data directly in the contact's `data.custom_fields` object. Great for basic metadata.
::

::card{title="Advanced Fields" icon="i-lucide-database"}
Use the dedicated Custom Fields API for typed, indexed, and filterable data. Best for analytics and filtering.
::
::

---

## Quick Approach: `data.custom_fields`

Store custom data directly when creating or updating a contact. Fields are **automatically synced** to the Custom Fields system for high-performance indexing.

### Create with Custom Fields

::api-playground{method="POST" url="https://api.digishare.ma/v1/thirds" description="Create a contact with custom fields." :variables='{"token": "YOUR_ACCESS_TOKEN", "cid": "COMPANY_ID"}' :headers='{"Authorization": "Bearer {token}", "Content-Type": "application/json"}' :body='{"company_id": "{cid}", "first_name": "John", "last_name": "Doe", "data": {"custom_fields": {"balance": 150.75, "loyalty_tier": "gold", "is_vip": true}}}'}
::

### Update Custom Fields

::api-playground{method="PATCH" url="https://api.digishare.ma/v1/thirds/{id}" description="Update contact's custom fields." :variables='{"id": "THIRD_ID", "token": "YOUR_ACCESS_TOKEN"}' :headers='{"Authorization": "Bearer {token}", "Content-Type": "application/json"}' :body='{"data": {"custom_fields": {"balance": 200.00, "last_purchase": "2026-01-18"}}}'}
::

---

## ðŸ“Š Spreadsheet Import

You can import custom fields directly from Excel or CSV files. Any column starting with the `cf_` or `custom_` prefix is automatically treated as a custom field.

| first_name | email            | cf_balance | cf_loyalty_tier | cf_is_vip |
| ---------- | ---------------- | ---------- | --------------- | --------- |
| John       | john@example.com | 150.75     | gold            | true      |
| Jane       | jane@example.com | 50.00      | silver          | false     |

**Auto-Casting during Import:**
*   **Boolean**: Supports `true/false`, `yes/no`, `1/0`.
*   **Date**: Supports `YYYY-MM-DD` and `DD/MM/YYYY`.
*   **Numeric**: Auto-detects `int` vs `float`.

---

## Advanced Approach: Custom Fields API

Use dedicated endpoints for typed, indexed data that supports filtering.

### 1. Define Field Schema

You **must** define the field schema per company to ensure consistent data types and indexing.

::api-playground{method="POST" url="https://api.digishare.ma/v1/custom-field-definitions" description="Define a custom field." :variables='{"token": "YOUR_ACCESS_TOKEN", "cid": "COMPANY_ID"}' :headers='{"Authorization": "Bearer {token}", "Content-Type": "application/json"}' :body='{"company_id": "{cid}", "key": "balance", "label": "Account Balance", "type": "float"}'}
::

#### Supported Types

| Type | Example | Internal Storage |
|------|---------|-------------|
| `string` | `"gold"` | Indexed Text |
| `int` | `42` | Native Integer |
| `float` | `150.75` | Integer (x1000) |
| `bool` | `true` | Boolean/Bit |
| `date` | `"2026-01-15"` | Integer (`Ymd`) |

### 2. Set Field Values

Store typed data on a contact. You can optionally specify a `group` (defaults to `default`).

::api-playground{method="POST" url="https://api.digishare.ma/v1/thirds/{id}/custom-fields" description="Set custom field values." :variables='{"id": "THIRD_ID", "token": "YOUR_ACCESS_TOKEN"}' :headers='{"Authorization": "Bearer {token}", "Content-Type": "application/json"}' :body='{"fields": {"balance": 150.75, "order_count": 12}, "group": "billing"}'}
::

### 3. Get Field Values

::api-playground{method="GET" url="https://api.digishare.ma/v1/thirds/{id}/custom-fields" description="Get custom field values." :variables='{"id": "THIRD_ID", "token": "YOUR_ACCESS_TOKEN"}' :headers='{"Authorization": "Bearer {token}"}'}
::

### 4. Filter by Custom Fields

Find contacts using custom field values. Range queries are optimized for `int`, `float`, and `date`.

```bash
# Get contacts with more than 100 balance
GET /v1/thirds?custom_filters={"balance":{"operator":">","value":100}}

# Get contacts by date range
GET /v1/thirds?custom_filters={"last_purchase":{"operator":">=","value":"2026-01-01"}}
```

#### Available Operators

| Operator | Description |
|----------|-------------|
| `=` | Equals (default) |
| `>` | Greater than |
| `<` | Less than |
| `>=` | Greater or equal |
| `<=` | Less or equal |
| `!=` | Not equal |

### 5. Delete Fields

Remove specific fields from a contact:

::api-playground{method="DELETE" url="https://api.digishare.ma/v1/thirds/{id}/custom-fields" description="Delete custom fields." :variables='{"id": "THIRD_ID", "token": "YOUR_ACCESS_TOKEN"}' :headers='{"Authorization": "Bearer {token}", "Content-Type": "application/json"}' :body='{"keys": ["balance", "order_count"]}'}
::

---

## When to Use Each

| Use Case | Quick Fields | Advanced API |
|----------|--------------|--------------|
| Simple metadata | âœ… Best | Works |
| One API call | âœ… Yes | Needs separate call |
| Auto sync | âœ… Yes | Native |
| Filtering/Search | âœ… Yes (via sync) | âœ… Yes |
| Analytics | âœ… Yes | âœ… Best |
| High volume | âœ… Indexed | âœ… Indexed |

---

## Common Use Cases

::card-group
::card{title="Customer Stats" icon="i-lucide-bar-chart-2"}
Track orders, lifetime value, and purchase frequency.
::

::card{title="Preferences" icon="i-lucide-settings"}
Store newsletters, language, and notification settings.
::

::card{title="CRM Sync" icon="i-lucide-refresh-cw"}
Sync lead scores, pipeline stages, and identifiers.
::

::card{title="Segmentation" icon="i-lucide-users"}
Filter contacts by loyalty tier, spend, or behavior.
::
::
