---
title: Outgoing Messages
description: Detailed reference for sending text, location, and interactive messages via API.
icon: i-lucide-send
---

::warning
**Prerequisite**: You must have an active Conversation ID to reply to a user. See [LiveChat Integration](/developer-guides/livechat/integration).
::

## 1. Message Envelope

Every API request uses this standard structure.

| Field             | Type          | Description                                                  |
| :---------------- | :------------ | :----------------------------------------------------------- |
| `send_to_third`   | Boolean       | Set `true` to deliver via external platform (e.g. WhatsApp). |
| `conversation_id` | String        | Unique ID for the chat session.                              |
| `type`            | String        | Message format: `text`, `location`, or `interactive`.        |
| `body`            | String/Object | The content payload (varies by type).                        |

## 2. Text Message

Simple text communication. The `body` is a **string**.

::api-playground{method="POST" url="https://api.digishare.ma/v1/messages" description="Send a simple text message to a conversation." :variables='{"token": "YOUR_TOKEN", "conversationId": "YOUR_CONVERSATION_ID"}' :headers='{"Authorization": "Bearer {token}", "Content-Type": "application/json"}' :body='{"send_to_third": true, "conversation_id": "{conversationId}", "type": "text", "body": "Hello Adil! Your order is ready."}'}
::

## 3. Location Message

Send a static map pin.

::api-playground{method="POST" url="https://api.digishare.ma/v1/messages" description="Send a location pin with name and address." :variables='{"token": "YOUR_TOKEN", "conversationId": "YOUR_CONVERSATION_ID"}' :headers='{"Authorization": "Bearer {token}", "Content-Type": "application/json"}' :body='{"send_to_third": true, "conversation_id": "{conversationId}", "type": "location", "body": {"latitude": 33.5731, "longitude": -7.5898, "name": "Digishare HQ", "address": "Casablanca, Morocco"}}'}
::

## 4. Interactive Messages

Structured messages for enhanced engagement.

### Reply Buttons

Best for quick confirmations (Yes/No). Maximum 3 buttons.

::api-playground{method="POST" url="https://api.digishare.ma/v1/messages" description="Send interactive reply buttons for quick responses." :variables='{"token": "YOUR_TOKEN", "conversationId": "YOUR_CONVERSATION_ID"}' :headers='{"Authorization": "Bearer {token}", "Content-Type": "application/json"}' :body='{"send_to_third": true, "conversation_id": "{conversationId}", "type": "interactive", "body": {"type": "button", "header": {"type": "text", "text": "Confirmation"}, "body": {"text": "Do you confirm receipt?"}, "action": {"buttons": [{"type": "reply", "reply": {"id": "btn_yes", "title": "Yes"}}, {"type": "reply", "reply": {"id": "btn_no", "title": "No"}}]}}}'}
::

### List Menu

Best for multiple options (up to 10 rows).

::api-playground{method="POST" url="https://api.digishare.ma/v1/messages" description="Send an interactive list menu with sections." :variables='{"token": "YOUR_TOKEN", "conversationId": "YOUR_CONVERSATION_ID"}' :headers='{"Authorization": "Bearer {token}", "Content-Type": "application/json"}' :body='{"send_to_third": true, "conversation_id": "{conversationId}", "type": "interactive", "body": {"type": "list", "header": {"type": "text", "text": "Support Menu"}, "body": {"text": "Choose a category below:"}, "action": {"button": "Select Option", "sections": [{"title": "Technical Support", "rows": [{"id": "row_1", "title": "API Issues", "description": "Help with integration"}, {"id": "row_2", "title": "Login", "description": "Account access"}]}]}}}'}
::

### Location Request

Triggers the native "Send Location" interface.

::api-playground{method="POST" url="https://api.digishare.ma/v1/messages" description="Request the user to share their location." :variables='{"token": "YOUR_TOKEN", "conversationId": "YOUR_CONVERSATION_ID"}' :headers='{"Authorization": "Bearer {token}", "Content-Type": "application/json"}' :body='{"send_to_third": true, "conversation_id": "{conversationId}", "type": "interactive", "body": {"type": "location_request_message", "body": {"text": "Please share your current location."}, "action": {"name": "send_location"}}}'}
::

## 5. Constraints

| Type            | Component        | Limit           |
| :-------------- | :--------------- | :-------------- |
| **Text**        | `body`           | 4096 Characters |
| **Interactive** | `header`         | 60 Characters   |
| **Interactive** | `button` title   | 20 Characters   |
| **Interactive** | `list` row title | 24 Characters   |
